<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="refresh" content="8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/static/style.css">
  <title>Pi Dashboard</title>
</head>
<body>
  <div class="wrap">
    <h1>Pi Dashboard</h1>

    <div class="grid">
      <div class="card">
        <h2>System</h2>
        <div class="row"><span>CPU</span><span>{{ stats.cpu_percent }}%</span></div>
        <div class="row"><span>RAM</span><span>{{ stats.ram_used_gb }} / {{ stats.ram_total_gb }} GB ({{ stats.ram_percent }}%)</span></div>
        <div class="row"><span>Disk</span><span>{{ stats.disk_used_gb }} / {{ stats.disk_total_gb }} GB ({{ stats.disk_percent }}%)</span></div>
        <div class="row"><span>Temp</span><span>{% if stats.temp_c is not none %}{{ stats.temp_c }}Â°C{% else %}n/a{% endif %}</span></div>
        <div class="row"><span>Uptime</span><span>{{ stats.uptime_s }}s</span></div>
        <div class="row"><span>IP</span><span>{{ stats.ip or "n/a" }}</span></div>
      </div>

      <div class="card">
        <h2>Feed</h2>
        <div class="muted">Last update: {{ feed["updated_at"] or "never" }}</div>
        <div class="feed">
          {% for item in feed["items"] %}
            <div class="feed-item {{ item.status }}">
              <div class="feed-title">{{ item.title }}</div>
              <div class="feed-detail">{{ item.detail }}</div>
              {% if item.ts %}<div class="muted">{{ item.ts }}</div>{% endif %}
            </div>
          {% endfor %}
          {% if feed["items"]|length == 0 %}
            <div class="muted">No items yet. Run updater.</div>
          {% endif %}
        </div>
      </div>
    </div>

    <div class="card" style="margin-top:10px;">
	    <h2>GRAPHS</h2>
	    <div class="selectors">
		<button class="active">CPU</button>
		<button>RAM</button>
		<button>Disk</button>
		<button>Temp</button>
	    </div>
	    <div class="graph-container">

	    </div>
    </div>

    <p class="muted">Auto refreshes every ~8 seconds.</p>
  </div>
</body>
</html>
